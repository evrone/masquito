#!/usr/bin/env ruby

require 'rubygems'
require 'masquito'

abort 'Working only on MacOS for now' if RUBY_PLATFORM !~ /darwin/

case command = ARGV.first
when 'start'
  Masquito::DNS.new('127.0.0.1', Masquito::DNS::PORT)
when /install|uninstall/
  require 'masquito/install'
  Masquito.send(command)
when 'version'
  require 'masquito/version'
  puts Masquito::VERSION
else
  puts "Usage: masquito #{%w{ install uninstall version }.join(' | ')}"
end
